#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Wed Jun 14 08:30:14 2017

@author: Marcus Naslund 
"""

import schprog as SP

# initialize objects
Des = SP.Designer()
ISO = SP.ISO12215('A')
#[L_WL, B_C, m_LDC, Beta_04, H_T, T_C, V]
Vess = SP.Vessel(2.6, 1.3, 600, 10.0, 3.0, 0.875, 6.0) 
Struct = SP.Structure()


AL_5083_O = SP.MaterialsLibrary('AL_5083_O', 125, 270, 7000, 2692, 2720)
#AL_6082_T6 = SP.MaterialsLibrary('AL_6082_T6', 115, 170, 7000, 2692, 2830)

PlaLib = SP.PlatingLibrary()
AL3 = SP.Plates('AL3', 3)
AL4 = SP.Plates('AL4', 4)
AL5 = SP.Plates('AL5', 5)
AL6 = SP.Plates('AL6', 6)
AL8 = SP.Plates('AL8', 8)
PlaLib.assign_plate(AL3)
PlaLib.assign_plate(AL4)
PlaLib.assign_plate(AL5)
PlaLib.assign_plate(AL6)
PlaLib.assign_plate(AL8)


#AL8 = SP.PlatingLibrary('AL8', 8)
#Flat_Bar_62_x_6 = SP.Extrusions('Flat Bar 62 x 6', 8.824, 3.720, 6.0, 'Flat Bar')

#Des.create_topology(1120, 1)
#Des.define_topology(Struct)

# create panels [b, l, x_pos, y_pos, location]
Pan1 = SP.Panel(366,2400, 1.2, 0.366/2, 'side')
Pan2 = SP.Panel(280,2500, 1.2, 0.280/2, 'bottom')
#Pan2 = SP.Panel(150,300, 0.325, 0, 'bottom')

# assign panels to structure
Struct.assign_panel(Pan1)
Struct.assign_panel(Pan2)

# assign structure to vessel
Vess.assign_structure(Struct)

# calculate pressure using ISO rules
Des.calc_pressure_factors(ISO, Struct, Vess)
Des.calc_design_pressures(ISO, Struct, Vess)

# if you wanna assign specific material to a panel
#Struct.Panel[0].assign_material(AL_5083_O)
# if you wanna assign the same material to all panels
Des.assign_material_to_all_panels(Struct, AL_5083_O)

# calculate scnatling requirement
Des.calc_scantling_req(ISO, Struct, Vess)

# assign recommended plate to all panels
Des.assign_recommended_plates(Struct, PlaLib)

print('Done')


